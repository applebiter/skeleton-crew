node:
  id: linux-01
  name: Indigo
  host: 192.168.32.7
  port: 5557
  roles:
  - stt_realtime
  - tts
  - llm_light
  - audio_hub
  tags:
    platform: linux
    gpu: nvidia-1050ti
    gpu_memory: 4GB
    ram: 32GB
stt:
  providers:
    realtime:
      backend: vosk
      model: vosk-model-en-us-0.22
      model_path: ./models/vosk
    transcription:
      backend: whisper
      model: base
      device: cuda
      compute_type: float16
  vosk:
    sample_rate: 16000
  whisper:
    language: en
    task: transcribe
tts:
  backend: piper
  piper:
    model: en_US-lessac-medium
    model_path: ./models/piper
voice_commands:
  enabled: true
  api_port: 8001
  command_timeout: 5.0
  wake_words:
    indigo: computer indigo
    green: computer green
    karate: computer karate
  aliases:
  - alias: play
    actual_command: transport_start
    description: Start JACK transport
  - alias: stop
    actual_command: transport_stop
    description: Stop JACK transport
  - alias: record
    actual_command: recording_start
    description: Start recording
  - alias: save
    actual_command: save_project
    description: Save current project
  - alias: connect audio
    actual_command: jack_connect_audio
    description: Connect JACK audio ports
  sample_rate: 22050
llm:
  providers:
  - name: ollama
    type: ollama
    base_url: http://localhost:11434
    models:
      chat: granite4:3b
      planning: granite4:3b
      vision: ministral-3:3b
      embedding: nomic-embed-text
    enabled: true
  - name: openai
    type: openai
    models:
      chat: gpt-4o-mini
      embedding: text-embedding-3-small
    enabled: true
    requires_key: true
  - name: anthropic
    type: anthropic
    models:
      chat: claude-3-5-sonnet-20241022
    enabled: true
    requires_key: true
  defaults:
    chat: ollama:granite4:3b
    planning: ollama:granite4:3b
    vision: ollama:ministral-3:3b
    embedding: ollama:nomic-embed-text
  tools:
    enabled: true
    max_iterations: 20
  max_context_length: 2048
  max_history_messages: 10
  max_iterations: 20
audio:
  jack:
    client_name: skeleton_app
    auto_connect: true
    ports:
      input: voice_in
      output: voice_out
  vad:
    threshold: 0.5
    min_silence_duration: 0.5
    min_speech_duration: 0.3
wakeword:
  enabled: true
  phrase: computer
  sensitivity: 0.5
  timeout: 5.0
commands:
  builtin:
  - name: time
    aliases:
    - what time is it
    - current time
    handler: builtin.time
  - name: weather
    aliases:
    - what's the weather
    - weather forecast
    handler: builtin.weather
database:
  url: postgresql://sysadmin:nx8J33aY@karate:5432/skeleton_crew
  pool_size: 5
  max_overflow: 10
network:
  registry:
    backend: postgres
    nodes:
    - id: windows-main
      host: 192.168.1.100
      port: 8000
      roles:
      - llm_heavy
      - stt_batch
      - rag_engine
      tags:
        platform: windows
        gpu: nvidia-3060
  routing:
    prefer_local: true
    fallback_to_remote: true
    overrides:
      llm_heavy:
        prefer_node: windows-main
      stt_transcription:
        prefer_node: windows-main
logging:
  level: INFO
  format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
  file: logs/skeleton.log
